!function t(i,a,s){function r(c,n){if(!a[c]){if(!i[c]){var h="function"==typeof require&&require;if(!n&&h)return h(c,!0);if(e)return e(c,!0);var o=new Error("Cannot find module '"+c+"'");throw o.code="MODULE_NOT_FOUND",o}var l=a[c]={exports:{}};i[c][0].call(l.exports,function(t){var a=i[c][1][t];return r(a||t)},l,l.exports,t,i,a,s)}return a[c].exports}for(var e="function"==typeof require&&require,c=0;c<s.length;c++)r(s[c]);return r}({1:[function(t,i,a){"use strict";var s={create:function(t){var i=Object.create(this);return Object.assign(i,{base:t,step:Math.pow(2,1/12),mute:!0,data:[]}),i},setup:function(t,i,a,s,r,e,c){var n=i*a,h=i*s,o=i*r,l=i*e;return{base:this.base*Math.pow(2,t),note:i,atk:n,dcy:h,stn:o,rls:l,sdr:c,atx:new AudioContext}},switchMute:function(){this.mute?this.mute=!1:this.mute=!0},play:function(t,i,a,s){if(!this.mute){var r=this.data[t],e=r.atx.createOscillator(),c=r.atx.createBiquadFilter(),n=r.atx.createGain();e.connect(c),c.connect(n),n.connect(r.atx.destination),e.frequency.value=r.base*Math.pow(this.step,a),c.type="lowpass",c.frequency.value=r.base,s<0&&(s=1);var h=5*s*(1/i);n.gain.value=0,n.gain.linearRampToValueAtTime(h,r.atx.currentTime+r.atk),n.gain.linearRampToValueAtTime(h*r.sdr,r.atx.currentTime+r.atk+r.dcy),n.gain.linearRampToValueAtTime(0,r.atx.currentTime+r.atk+r.dcy+r.stn+r.rls),e.start(),e.stop(r.atx.currentTime+r.note)}}};i.exports=s},{}],2:[function(t,i,a){"use strict";var s=t("./render.js"),r=t("./audio.js"),e=function(t,i,a,s){2==i&&(t.nd[a][s].ls=!0),i>=3&&(t.nd[a][s].ls=!1)},c=function(t,i){for(var a=0,s=0;s<t.fa[i+2];s++){var r=t.rd[i].cna[s].sa,c=t.rd[i].cna[s].ea;r>c&&(c+=2);var n=0;if(s+1!==t.fa[i+2]&&(t.rd[i].cna[s+1].ls?n++:t.rd[i].cna[0].ls&&n++),0!==s?t.rd[i].cna[s-1].ls&&n++:t.rd[i].cna[t.fa[i+2]-1].ls&&n++,0!==i)for(var h=0;h<t.fa[i+1];h++)if(t.rd[i-1].cna[h].ls){var o=t.rd[i-1].cna[h].sa,l=t.rd[i-1].cna[h].ea;o>l&&(l+=2),(o<c&&r<l||l>2&&r<l)&&n++}if(i+1!==t.nl)for(var d=0;d<t.fa[i+3];d++)if(t.rd[i+1].cna[d].ls){var m=t.rd[i+1].cna[d].sa,u=t.rd[i+1].cna[d].ea;m>u&&(u+=2),(r<u&&m<c||r>2&&m<c)&&n++}e(t,n,i,s)}for(var f=0;f<t.fa[i+2];f++)t.rd[i].cna[f].ls=t.nd[i][f].ls,t.rd[i].cna[f].ls&&a++;!function(t,i,a){a>16?a=Math.round(a/4):a>12?a=Math.round(a/3):a>8&&(a=Math.floor(a/2)),t.am.play(i,t.fa[i+2],2*a,t.rm.cgr/((t.rm.ldr-t.rm.cir)/(2*t.nl)));var s=2*Math.random()*Math.PI,r=1/t.fa[i+2]*Math.PI,e=t.rm.cir*Math.random()/4,c=Math.floor(255*Math.random()),n=Math.floor(255*Math.random()),h=Math.floor(255*Math.random());t.rm.addFloater(s,r,e,c,n,h)}(t,i,a)},n={create:function(t,i,a,e,c){var n=Object.create(this);return Object.assign(n,{nl:t,fa:i,rs:a,rm:s.create(e,c),am:r.create(55),rd:[],nd:[],dm:"minim"}),n},initialize:function(){var t=this;this.rm.refit(this.nl);var i=this.rm,a=this;i.cnv.onmousedown=function(t){i.mc={x:t.x,y:t.y},i.md=!0},i.cnv.onmousemove=function(t){i.md&&(i.mc={x:t.x,y:t.y},i.ldr=Math.calculateLesserDimension(i.cnv.width,i.cnv.height)/2,i.mdr=Math.dist(i.mc,i.c),i.mdr<i.cir?i.cgr=i.cir/2/(2*a.nl-1):i.mdr>i.ldr-i.cir/4?i.cgr=(i.ldr-i.cir)/(2*a.nl):i.cgr=Math.abs(i.mdr*((i.cir-i.ldr)/i.ldr)/(2*a.nl)))},i.cnv.onmouseleave=function(t){i.md=!1},i.cnv.onmouseup=function(t){i.mc={},i.md=!1},i.cgr=(Math.calculateLesserDimension(i.cnv.width,i.cnv.height)/2-i.cir)/(2*a.nl);for(var s=function(i){var a=0;a=i%2==0?t.rs:-1*t.rs,t.rd[i]={cna:[],lrs:a},t.nd[i]=[],t.fa[i+2]=t.fa[i]+t.fa[i+1];for(var s=0;s<t.fa[i+2];s++){var r=Math.round(Math.random()),e=1/t.fa[i+2],n=s*e*2,h=n+e*(4/3),o=void 0;o=1===r,t.rd[i].cna[s]={ls:o,sa:n,ea:h},t.nd[i][s]={ls:o}}var l=2/t.fa[i+2]/t.rs;t.am.data[i]=t.am.setup(i,l/1e3,.25,.25,.25,.25,.5);var d=t;c(d,i),window.setInterval(function(){c(d,i)},l)},r=0;r<this.nl;r++)s(r)},cycle:function(t){for(var i=0;i<this.nl;i++)for(var a=0;a<this.fa[i+2];a++){var s=this.rs/t;i%2==0?(this.rd[i].cna[a].sa+=s,this.rd[i].cna[a].ea+=s,this.rd[i].cna[a].sa=this.rd[i].cna[a].sa%2,this.rd[i].cna[a].ea=this.rd[i].cna[a].ea%2):(this.rd[i].cna[a].sa-=s,this.rd[i].cna[a].ea-=s,this.rd[i].cna[a].sa<0&&(this.rd[i].cna[a].sa+=2),this.rd[i].cna[a].ea<0&&(this.rd[i].cna[a].ea+=2))}for(var r=this.rm.ea.length-1;r>=0;r--)this.rm.ea[r].ca-=this.rm.ea[r].cd/t,this.rm.ea[r].sl+=this.rm.ea[r].ae/5e3/t*(this.rm.cgr/(this.rm.ldr-this.rm.cir)*10),this.rm.ea[r].ca<0&&this.rm.ea.splice(r,1)},renderNodes:function(){for(var t=0;t<this.nl;t++){this.fa[t+2];for(var i=this.rm.cir+t*this.rm.cgr*2,a=i+this.rm.cgr,s=(this.rm.cir,this.rm.cgr,this.rm.cgr,this.rm.cgr,0);s<this.fa[t+2];s++){var r=this.rd[t].cna[s].sa*Math.PI,e=this.rd[t].cna[s].ea*Math.PI;"minim"===this.dm?this.rm.drawNode(this.rd[t].cna[s].ls,i,a,r,e):"allNodes"===this.dm&&this.rm.drawAllNodes(this.rd[t].cna[s].ls,i,a,r,e)}}},renderBridges:function(){for(var t=0;t<this.nl;t++){this.fa[t+2];for(var i=this.rm.cir+t*this.rm.cgr*2,a=i+this.rm.cgr,s=this.rm.cir+t*this.rm.cgr*2+.5*this.rm.cgr,r=s+2*this.rm.cgr,e=0;e<this.fa[t+2];e++){var c=this.rd[t].cna[e].sa*Math.PI,n=this.rd[t].cna[e].ea*Math.PI,h=this.rd[t].cna[e].sa,o=this.rd[t].cna[e].ea;h>o&&(o+=2);var l=(h+o)/2*Math.PI,d="";if(e+1!==this.fa[t+2]?(d=this.rd[t].cna[e].ls||this.rd[t].cna[e+1].ls?"red":"yellow",this.rm.drawArcBridge(d,s,o*Math.PI,this.rd[t].cna[e+1].sa*Math.PI)):(d=this.rd[t].cna[e].ls||this.rd[t].cna[0].ls?"red":"yellow",this.rm.drawArcBridge(d,s,o*Math.PI,this.rd[t].cna[0].sa*Math.PI)),t+1!==this.nl)for(var m=0;m<this.fa[t+3];m++){var u=this.rd[t+1].cna[m].sa,f=this.rd[t+1].cna[m].ea;if(u>f&&(f+=2),h<f&&u<o||o>2&&u+2<o){var x=(u+f)/2*Math.PI;d=this.rd[t].cna[e].ls||this.rd[t+1].cna[m].ls?"red":"yellow",this.rm.drawStraightBridge(d,s,r,l,x)}}this.rm.drawAllNodes(this.rd[t].cna[e].ls,i,a,c,n)}}},displayFrameRate:function(t){this.rm.output(t)}};i.exports=n},{"./audio.js":1,"./render.js":4}],3:[function(t,i,a){"use strict";var s=t("./automata.js").create(5,[2,3],1e-4,10,10);window.requestFrameRate=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,i){window.setTimeout(function(){t(+new Date)},1e3/60)};var r=0,e=void 0,c=function t(){if(!e)return e=(new Date).getTime(),void requestFrameRate(t);var i=(new Date).getTime()-e;e=(new Date).getTime(),r=1/i,s.cycle(r),s.rm.clear(),s.rm.drawFloaters(),"all"===s.dm?(s.renderBridges(),s.renderNodes()):s.renderNodes(),requestFrameRate(t)};window.onload=function(){s.initialize(),c();var t=document.querySelector("section"),i=document.querySelector("div"),a=document.querySelector("button.mute"),r=document.querySelector("button.draw");t.onclick=function(){i.classList.contains("overlay")?(i.classList.remove("overlay"),t.classList.remove("active")):(i.className+="overlay",t.className+="active")},a.onclick=function(){s.am.mute?(a.innerHTML="Mute",s.am.switchMute()):(a.innerHTML="Unmute",s.am.switchMute())},r.onclick=function(){var t=s.dm;"minim"===t?(r.innerHTML="allNodes",s.dm="allNodes"):"allNodes"===t?(r.innerHTML="all",s.dm="all"):"all"===t&&(r.innerHTML="minim",s.dm="minim")}}},{"./automata.js":2}],4:[function(t,i,a){"use strict";var s=document.querySelector("canvas"),r=s.getContext("2d"),e=document.querySelector("section");Math.dist=function(t,i){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))},Math.calculateLesserDimension=function(t,i){return t>i?i:t};var c={create:function(t,i){if(s){var a=Object.create(this);return Object.assign(a,{cnv:s,ctx:r,crd:t,crg:i,ldr:0,cir:0,cgr:0,mdr:0,c:{x:0,y:0},mc:{x:0,y:0},md:!1,ea:[]}),a}console.log("Canvas does not exist! Activate the Existential Crisis!")},refit:function(t){this.cnv.width=this.cnv.clientWidth,this.cnv.height=this.cnv.clientHeight;var i=Math.calculateLesserDimension(this.cnv.width,this.cnv.height);this.cir=i/this.crd,this.cgr=(i/2-this.cir/2)/(2*t),this.c={x:this.cnv.width/2,y:this.cnv.height/2},e.style.width=2*this.cir+"px",e.style.height=2*this.cir+"px",e.style.top=this.cnv.height/2-this.cir+"px",e.style.left=this.cnv.width/2-this.cir+"px",e.style.borderRadius=this.cir+"px"},drawStraightBridge:function(t,i,a,s,r){this.ctx.lineWeight=1,this.ctx.strokeStyle=t,this.ctx.beginPath(),this.ctx.moveTo(this.c.x+i*Math.cos(s),this.c.y+i*Math.sin(s)),this.ctx.lineTo(this.c.x+a*Math.cos(r),this.c.y+a*Math.sin(r)),this.ctx.stroke()},drawArcBridge:function(t,i,a,s){this.ctx.lineWeight=1,this.ctx.strokeStyle=t,this.ctx.beginPath(),this.ctx.arc(this.c.x,this.c.y,i,a,s,!1),this.ctx.stroke()},drawNode:function(t,i,a,s,r){t&&(this.ctx.lineWeight=1,this.ctx.beginPath(),this.ctx.moveTo(this.c.x+i*Math.cos(s),this.c.y+i*Math.sin(s)),this.ctx.arc(this.c.x,this.c.y,i,s,r,!1),this.ctx.arc(this.c.x,this.c.y,a,r,s,!0),this.ctx.lineTo(this.c.x+i*Math.cos(s),this.c.y+i*Math.sin(s),this.c.x+a*Math.cos(s),this.c.y+a*Math.sin(s)),this.ctx.closePath(),this.ctx.fillStyle="black",this.ctx.fill())},drawAllNodes:function(t,i,a,s,r){this.ctx.lineWeight=1,this.ctx.beginPath(),this.ctx.moveTo(this.c.x+i*Math.cos(s),this.c.y+i*Math.sin(s)),this.ctx.arc(this.c.x,this.c.y,i,s,r,!1),this.ctx.arc(this.c.x,this.c.y,a,r,s,!0),this.ctx.lineTo(this.c.x+i*Math.cos(s),this.c.y+i*Math.sin(s),this.c.x+a*Math.cos(s),this.c.y+a*Math.sin(s)),this.ctx.closePath(),t?(this.ctx.fillStyle="black",this.ctx.fill()):(this.ctx.strokeStyle="black",this.ctx.fillStyle="white",this.ctx.fill(),this.ctx.stroke())},addFloater:function(t,i,a,s,r,e){var c=this.ldr,n=this.cir;this.ea.push({sa:t,ea:i,sl:n,el:a,ae:1.5*c,cr:s,cg:r,cb:e,ca:1,cd:2e-4})},drawFloaters:function(){for(var t=0;t<this.ea.length;t++){var i=this.ea[t];this.ctx.lineWeight=1,this.ctx.strokeStyle="black",this.ctx.beginPath(),this.ctx.moveTo(this.c.x+i.sl*Math.cos(i.sa),this.c.y+i.sl*Math.sin(i.sa)),this.ctx.arc(this.c.x,this.c.y,i.sl,i.sa,i.sa+i.ea,!1),this.ctx.arc(this.c.x,this.c.y,i.sl+i.el,i.sa+i.ea,i.sa,!0),this.ctx.lineTo(this.c.x+i.sl*Math.cos(i.sa),this.c.y+i.sl*Math.sin(i.sa),this.c.x+(i.sl+i.el)*Math.cos(i.sa),this.c.y+(i.sl+i.el)*Math.sin(i.sa)),this.ctx.closePath(),this.ctx.fillStyle="rgba("+i.cr+","+i.cg+","+i.cb+","+i.ca+")",this.ctx.fill()}},clear:function(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.cnv.width,this.cnv.height)},referenceLine:function(){this.ctx.lineWeight=1,this.ctx.strokeStyle="green",this.ctx.beginPath(),this.ctx.moveTo(this.c.x,this.c.y),this.ctx.lineTo(this.cnv.width,this.c.y),this.ctx.stroke()},output:function(t){this.ctx.fillStyle="Black",this.ctx.font="normal 16pt Arial",this.ctx.fillText(t+" fps",10,26)}};i.exports=c},{}]},{},[3]);